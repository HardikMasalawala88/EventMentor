@using EMS.DB.Models
@using EMS.DB.Constant
@using EMS.DB.Service.Interface
@inject IEventService _eventService;
@inject ISnackbar Snackbar;
@inject IInquiryService _inquiryService;

<MudDialog>
    <DialogContent>
        <MudGrid>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.Id" Label="Id" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.Fullname" Label="Full Name" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.MobileNo" Label="MobileNo" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.AltPhoneNo" Label="AltPhoneNo" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.Email" Label="Email" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.NoOfAttendee" Label="NoOfAttendee" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.AddressLine1" Label="AddressLine1" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.AddressLine2" Label="AddressLine2" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.Landmark" Label="Landmark" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.Pincode" Label="Pincode" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.City" Label="city" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                <MudTextField @bind-Value="InquiryModel.State" Label="State" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                @*<MudText>SlotType: @InquiryModel.SlotType</MudText>*@
                <MudTextField @bind-Value="InquiryModel.SlotType" Label="SlotType" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                @*<MudDatePicker Label="From Date" @bind-Date="InquiryModel.FromDate" DateFormat="dd.MM.yyyy" ReadOnly="isReadOnly" />*@
                <MudTextField @bind-Value="InquiryModel.FromDate" Label="FromDate" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
               
            </MudItem>
            <MudItem lg="4" md="4" xs="12">
                @*<MudDatePicker Label="To Date" @bind-Date="InquiryModel.ToDate" DateFormat="dd.MM.yyyy" ReadOnly="isReadOnly" />*@
                <MudTextField @bind-Value="InquiryModel.ToDate" Label="ToDate" Variant="Variant.Text" Margin="Margin.Normal" ReadOnly="isReadOnly"></MudTextField>
            </MudItem>
            <MudItem lg="12" md="12" xs="12">
                <MudTextField T="string" Label="Additional notes" Variant="Variant.Text" @bind-Text="InquiryModel.Additionalnotes" Lines="5" ReadOnly="isReadOnly"/>
            </MudItem>
        </MudGrid>
    </DialogContent>
    
</MudDialog>
@code {

    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public Inquiry InquiryModel { get; set; } = new Inquiry();

    private bool isReadOnly = false;


    void Submit() => MudDialog.Close(DialogResult.Ok(true));
    void Cancel() => MudDialog.Cancel();

    protected override void OnInitialized()
    {
        if (InquiryModel is not null && InquiryModel.Id > 0)
        {
            isReadOnly = true;
        }

        base.OnInitialized();
    }
}