@using EMS.DB.Models
@using EMS.DB.Constant
@using  EMS.DB.Repository.Interface
@inject IEventStaffWorkRepository _EventStaffWorkRepository;
@inject ISnackbar Snackbar;


<MudDialog>
    <DialogContent>
        @if (eventStaffWorkModel.Status == "Workpending")
        {
            <MudTimeline Class="mb-3" TimelineOrientation=" TimelineOrientation.Horizontal">
                <MudTimelineItem Color="Color.Error" Variant="Variant.Filled">
                    <ItemContent>
                        <MudAlert Class="mt-1" Severity="Severity.Error">@eventStaffWorkModel.Status</MudAlert>
                    </ItemContent>
                </MudTimelineItem>

                <MudTimelineItem Color="Color.Warning" Variant="Variant.Filled">

                </MudTimelineItem>
                <MudTimelineItem Color="Color.Success" Variant="Variant.Filled">

                </MudTimelineItem>
            </MudTimeline>
        }
        else if (eventStaffWorkModel.Status == "WorkOnProcess")
        {
            <MudTimeline Class="mb-3" TimelineOrientation=" TimelineOrientation.Horizontal">
                <MudTimelineItem Color="Color.Error" Variant="Variant.Filled">
                </MudTimelineItem>
                <MudTimelineItem Color="Color.Warning" Variant="Variant.Filled" Class="mb-1">
                    <ItemContent>
                        <MudAlert Class="mt-1" Severity="Severity.Warning">@eventStaffWorkModel.Status</MudAlert>
                    </ItemContent>
                </MudTimelineItem>
                <MudTimelineItem Color="Color.Success" Variant="Variant.Filled">
                </MudTimelineItem>
            </MudTimeline>

        }
        else
        {
            <MudTimeline Class="mb-3" TimelineOrientation=" TimelineOrientation.Horizontal">
                <MudTimelineItem Color="Color.Error" Variant="Variant.Filled">

                </MudTimelineItem>
                <MudTimelineItem Color="Color.Warning" Variant="Variant.Filled">

                </MudTimelineItem>
                <MudTimelineItem Color="Color.Success" Variant="Variant.Filled" Class="mb-1">
                    <ItemContent>
                        <MudAlert Severity="Severity.Success">@eventStaffWorkModel.Status</MudAlert>
                    </ItemContent>
                </MudTimelineItem>
            </MudTimeline>
        }
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public EventStaffWork EventStaffWorkModel { get; set; }
    private EventStaffWork eventStaffWorkModel = new();
    protected override void OnInitialized()
    {
        eventStaffWorkModel = EventStaffWorkModel;
        base.OnInitialized();
    }
    private void CancelForm()
    {
        MudDialog.Close(DialogResult.Ok(true));
        eventStaffWorkModel = new EventStaffWork();
    }
}
